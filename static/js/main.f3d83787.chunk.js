(this["webpackJsonpusers-list"]=this["webpackJsonpusers-list"]||[]).push([[0],{13:function(e,t,a){},27:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(8),c=a.n(s),u=a(14),i=a(6),l=(a(27),a(2)),d=a(4),o=(a(13),a(1));var j=Object(i.b)((function(e){return{usersArray:e.usersListReducer.usersArray}}),(function(e){return{addUser:function(t,a){return e(function(e,t){return{type:"ADD_USER",payload:{name:e,age:t}}}(t,a))}}}))((function(e){var t=e.addUser,a=e.usersArray,n=Object(r.useState)(""),s=Object(d.a)(n,2),c=s[0],u=s[1],i=Object(r.useState)(""),l=Object(d.a)(i,2),j=l[0],b=l[1];function O(e,r){var n=function(e){return a.some((function(t){return t.name===e}))}(e);if(n)return u(""),b(""),alert("Nome j\xe1 registrado");t(e,r),u(""),b("")}return Object(o.jsxs)("div",{className:"input-container",children:[Object(o.jsxs)("div",{className:"input-card",children:[Object(o.jsx)("label",{"data-testid":"name-label",children:"Nome"}),Object(o.jsx)("input",{type:"text",className:"input-text","data-testid":"name-input",onChange:function(e){return u(e.target.value)},value:c})]}),Object(o.jsxs)("div",{className:"input-card",children:[Object(o.jsx)("label",{"data-testid":"age-label",children:"Idade"}),Object(o.jsx)("input",{type:"text",className:"input-text","data-testid":"age-input",onChange:function(e){return b(e.target.value)},value:j})]}),Object(o.jsx)("button",{className:"save-button",type:"submit",onClick:function(){return O(c,j)},children:"Salvar"})]})}));var b=Object(i.b)(null,(function(e){return{removeUser:function(t){return e(function(e){return{type:"REMOVE_USER",payload:e}}(t))},updateUser:function(t){var a,r=t.userId,n=t.newName,s=t.newAge;return e({type:"UPDATE_USER",payload:{userId:(a={userId:r,newName:n,newAge:s}).userId,newName:a.newName,newAge:a.newAge}})}}}))((function(e){var t=e.user,a=e.removeUser,n=e.updateUser,s=Object(r.useState)(""),c=Object(d.a)(s,2),u=c[0],i=c[1],l=Object(r.useState)(""),j=Object(d.a)(l,2),b=j[0],O=j[1],f=Object(r.useState)(!1),h=Object(d.a)(f,2),m=h[0],p=h[1];return m?Object(o.jsx)("tbody",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{className:"table-row",children:Object(o.jsx)("input",{type:"text",className:"update-field","data-testid":"update-name-input",placeholder:"Name...",onChange:function(e){return i(e.target.value)},value:u})}),Object(o.jsx)("td",{className:"table-row",children:Object(o.jsx)("input",{type:"text",className:"update-field","data-testid":"update-age-input",placeholder:"Age...",onChange:function(e){return O(e.target.value)},value:b})}),Object(o.jsx)("td",{className:"table-row",children:Object(o.jsx)("button",{onClick:function(){return p(!m),i(""),void O("")},className:"button-row",children:"Cancelar"})}),Object(o.jsx)("td",{className:"table-row",children:Object(o.jsx)("button",{onClick:function(){return function(){var e=t.id;n({userId:e,newName:u,newAge:b}),p(!m),i(""),O("")}()},className:"button-row","data-testid":"update-button",children:"Atualizar"})})]})}):Object(o.jsx)("tbody",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{className:"table-row","data-testid":"name-field",children:t.name}),Object(o.jsx)("td",{className:"table-row","data-testid":"age-field",children:t.age}),Object(o.jsx)("td",{className:"table-row",children:Object(o.jsx)("button",{onClick:function(){return e=t.id,window.confirm("Deseja apagar esta linha ?")&&a(e),null;var e},className:"button-row",children:"Deletar"})}),Object(o.jsx)("td",{className:"table-row",children:Object(o.jsx)("button",{onClick:function(){return p(!m)},className:"button-row",children:"Atualizar"})})]})})}));var O=Object(i.b)((function(e){return{usersArray:e.usersListReducer.usersArray}}),(function(e){return{checkSessionStorage:function(t){return e(function(e){return{type:"CHECK_SESSION_STORAGE",payload:e}}(t))}}}))((function(e){var t=e.usersArray,a=e.checkSessionStorage,n=Object(r.useState)([]),s=Object(d.a)(n,2),c=s[0],u=s[1],i=Object(r.useState)("dec"),l=Object(d.a)(i,2),j=l[0],O=l[1],f=Object(r.useState)(!1),h=Object(d.a)(f,2),m=h[0],p=h[1];function g(){for(var e=t,a=0;a<e.length;a++)for(var r=0;r<e.length-a-1;r++)if(parseInt(e[r].age,10)<parseInt(e[r+1].age,10)){var n=e[r];e[r]=e[r+1],e[r+1]=n}u(e)}function x(){for(var e=t,a=0;a<e.length;a++)for(var r=0;r<e.length-a-1;r++)if(parseInt(e[r].age,10)>parseInt(e[r+1].age,10)){var n=e[r];e[r]=e[r+1],e[r+1]=n}u(e)}return Object(r.useEffect)((function(){var e=[],t=JSON.parse(sessionStorage.getItem("usersArray"))||[];0!==t.length&&(e=t.usersArray),a(e),p(!0)}),[]),Object(r.useEffect)((function(){"asc"===j&&x(),"dec"===j&&g()}),[t]),Object(o.jsx)("div",{children:Object(o.jsxs)("table",{className:"table-container",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{className:"table-title",children:"Nome"}),Object(o.jsx)("th",{className:"table-title",onClick:function(){return"dec"===j&&(x(),O("asc")),void("asc"===j&&(g(),O("dec")))},"data-testid":"age-title",children:"Idade"}),Object(o.jsx)("th",{className:"table-title",children:"-"}),Object(o.jsx)("th",{className:"table-title",children:"-"})]})}),m&&c.map((function(e){return Object(o.jsx)(b,{user:e},e.id)}))]})})}));var f=function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)(j,{}),Object(o.jsx)(O,{})]})};a(29);function h(){return Object(o.jsx)(l.c,{children:Object(o.jsx)(l.a,{exact:!0,path:"/users-list",element:Object(o.jsx)(f,{})})})}var m=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,31)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),s(e),c(e)}))},p=a(10),g=a(16),x=a(3),v={usersArray:[]},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHECK_SESSION_STORAGE":return Object(x.a)(Object(x.a)({},e),{},{usersArray:t.payload});case"ADD_USER":var a={id:e.usersArray.length,name:t.payload.name,age:t.payload.age},r=Object(x.a)(Object(x.a)({},e),{},{usersArray:[].concat(Object(g.a)(e.usersArray),[a])});return sessionStorage.setItem("usersArray",JSON.stringify(r)),r;case"REMOVE_USER":var n=e.usersArray.filter((function(e){return e.id!==t.payload})),s=Object(x.a)(Object(x.a)({},e),{},{usersArray:n});return sessionStorage.setItem("usersArray",JSON.stringify(s)),s;case"UPDATE_USER":var c=Object(g.a)(e.usersArray),u=c.findIndex((function(e){return e.id===t.payload.userId}));c[u].name=t.payload.newName,c[u].age=t.payload.newAge;var i=Object(x.a)(Object(x.a)({},e),{},{usersArray:c});return sessionStorage.setItem("usersArray",JSON.stringify(i)),i;default:return e}},N=Object(p.a)({usersListReducer:y}),S=Object(p.b)(N,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(Object(o.jsx)(i.a,{store:S,children:Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(u.a,{children:Object(o.jsx)(h,{})})})}),document.getElementById("root")),m()}},[[30,1,2]]]);
//# sourceMappingURL=main.f3d83787.chunk.js.map